<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Over Permission</title>
      <link href="/2021/06/10/Over-Permission/"/>
      <url>/2021/06/10/Over-Permission/</url>
      
        <content type="html"><![CDATA[<h1 id="Over-Permission"><a href="#Over-Permission" class="headerlink" title="Over Permission"></a>Over Permission</h1><p>如果使用A用户的权限去操作B用户的数据，A的权限小于B的权限，如果能够成功操作，则称之为越权操作   </p><p>越权漏洞形成的原因是后台使用了不合理的权限校验规则导致的                </p><p>一般越权漏洞容易出现在权限页面（需要登录的页面）增、删、改、查的的地方</p><p>后台需要对当前用户的权限进行校验，看其是否具备操作的权限，从而给出响应，而如果校验的规则过于简单则容</p><p>易出现越权漏洞</p><span id="more"></span>           <h2 id="P1-水平越权"><a href="#P1-水平越权" class="headerlink" title="P1 水平越权"></a>P1 水平越权</h2><h3 id="S1-初步思考尝试"><a href="#S1-初步思考尝试" class="headerlink" title="S1 初步思考尝试"></a>S1 初步思考尝试</h3><p>—&gt;纯初学者，小白</p><p>—&gt;这部分较为繁琐，想看整理好的直接版本点击右侧目录</p><h4 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h4><p>点开题目进行观察</p><img src="/2021/06/10/Over-Permission/1.png" alt="1" style="zoom:67%;"><p>初次见到的题型是在合天网安实验室中跟着指导书在实验机上做的题</p><p>他是在已知了一个人的账号后再去进行抓包观察修改等一系列操作</p><p>但这里直接是一个Login</p><p>1.我先随便输入了Username与Password，用Burp进行抓包观察，并无用处—&gt;想法错误</p><p>2.打开开发者工具，观察该题的php文件，发现了有用信息</p><img src="/2021/06/10/Over-Permission/2.png" alt="2" style="zoom:67%;"><p>分别登录这三个账号，网页就是简单的个人介绍</p><h4 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h4><p>登录Lili账号，点击查看个人信息，观察URL</p><p>/op1_mem.php?username=lili&amp;submit=点击查看个人信息</p><p>—&gt;那么如果将username修改为其他两个人，会是什么样</p><p>修改为username=lucy  username=kobe</p><p>发现网页跳转到了相应的人的信息页面中</p><p>=&gt;存在水平越权漏洞</p><h3 id="S2-总结"><a href="#S2-总结" class="headerlink" title="S2 总结"></a>S2 总结</h3><p>1.观察源代码知三个账号：lucy/123456，lili/123456，kobe/123456</p><p>2.登陆后点击”点击查看个人信息“</p><p>3.观察URL：通过GET请求，将要查询的用户信息传递给后台</p><p>localhost/pikachu-master/vul/overpermission/op1/op1_mem.php?username=lili&amp;submit=点击查看个人信息</p><p>4.将username修改为lucy,kobe，提交申请后即可查看两人信息</p><p>5.结论：存在水平越权漏洞</p><h2 id="P2垂直越权"><a href="#P2垂直越权" class="headerlink" title="P2垂直越权"></a>P2垂直越权</h2><h4 id="Step-1-1"><a href="#Step-1-1" class="headerlink" title="Step 1"></a>Step 1</h4><p>点开题目观察，与上一题图片一样</p><p>按照上一题的思路：</p><p>打开开发者工具查看源代码，得到两条用户信息</p><img src="/2021/06/10/Over-Permission/4.png" alt="4" style="zoom:67%;"><h4 id="Step-2-1"><a href="#Step-2-1" class="headerlink" title="Step 2"></a>Step 2</h4><p>分别登录两个用户，进行观察</p><p>普通用户pikachu：</p><img src="/2021/06/10/Over-Permission/5.png" alt="5" style="zoom:67%;"><p>超级用户admin：</p><img src="/2021/06/10/Over-Permission/6.png" alt="6" style="zoom:50%;"><p>尝试修改URL无果</p><h4 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h4><p>登录admin账号进行添加操作，并用burp进行抓包</p><img src="/2021/06/10/Over-Permission/7.png" alt="7" style="zoom:67%;"><p>Cookie: PHPSESSID=4dl2v9a8o35dok7ght440s8477</p><p>登录普通用户</p><img src="/2021/06/10/Over-Permission/8.png" alt="8" style="zoom:80%;"><p>Cookie: PHPSESSID=nd2k3u867n9578uf7dur3ch04s</p><p>将管理员添加用户的包发送给repeater</p><p>修改管理员的Cookie为普通用户的Cookie，发送</p><img src="/2021/06/10/Over-Permission/9.png" alt="9" style="zoom:80%;"><p>发现以普通用户的身份进行了添加操作</p><img src="/2021/06/10/Over-Permission/10.png" alt="10" style="zoom:80%;"><p>更改username，password，sex等数值，仍以普通用户登录的身份插入进去</p><p>=&gt;存在垂直越权</p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
          <category> 漏洞靶场练习 </category>
          
          <category> Pikachu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pikachu安装</title>
      <link href="/2021/06/10/Pikachu%E5%AE%89%E8%A3%85/"/>
      <url>/2021/06/10/Pikachu%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<meta name="referrer" content="no-referrer"><h1 id="Pikachu安装"><a href="#Pikachu安装" class="headerlink" title="Pikachu安装"></a>Pikachu安装</h1><p>Pikachu是一个带有漏洞的Web应用系统，在这里包含了常见的web安全漏洞。</p><span id="more"></span><h2 id="漏洞类型"><a href="#漏洞类型" class="headerlink" title="漏洞类型"></a>漏洞类型</h2><ul><li>Burt Force(暴力破解漏洞)</li><li>XSS(跨站脚本漏洞)</li><li>CSRF(跨站请求伪造)</li><li>SQL-Inject(SQL注入漏洞)</li><li>RCE(远程命令/代码执行)</li><li>Files Inclusion(文件包含漏洞)</li><li>Unsafe file downloads(不安全的文件下载)</li><li>Unsafe file uploads(不安全的文件上传)</li><li>Over Permisson(越权漏洞)</li><li>../../../(目录遍历)</li><li>I can see your ABC(敏感信息泄露)</li><li>PHP反序列化漏洞</li><li>XXE(XML External Entity attack)</li><li>不安全的URL重定向</li><li>SSRF(Server-Side Request Forgery)</li><li>管理工具</li><li>More…</li></ul><h2 id="安装与使用"><a href="#安装与使用" class="headerlink" title="安装与使用"></a>安装与使用</h2><h3 id="Step-1-安装phpstudy"><a href="#Step-1-安装phpstudy" class="headerlink" title="Step 1 安装phpstudy"></a>Step 1 安装phpstudy</h3><p>百度搜索phpstudy，选择合适的版本即可</p><p><a href="https://www.xp.cn/">小皮面板(phpstudy) - 让天下没有难配的服务器环境！ (xp.cn)</a></p><p>安装好后界面（几个服务都是关闭状态，需手动开启）：</p><img src="/2021/06/10/Pikachu%E5%AE%89%E8%A3%85/1.png" style="zoom:38%;"><h3 id="Step-2-下载pikachu"><a href="#Step-2-下载pikachu" class="headerlink" title="Step 2 下载pikachu"></a>Step 2 下载pikachu</h3><p>github地址：<a href="https://github.com/zhuifengshaonianhanlu/pikachu">https://github.com/zhuifengshaonianhanlu/pikachu</a></p><p>下载好后将解压后的文件夹放在\phpstudy_pro\WWW下</p><h3 id="Step-3-使用pikachu靶场"><a href="#Step-3-使用pikachu靶场" class="headerlink" title="Step 3 使用pikachu靶场"></a>Step 3 使用pikachu靶场</h3><p>打开phpstudy的面板将Apache跟MySQL启动</p><p>修改\phpstudy_pro\WWW\pikachu-master\inc\config.inc.php中的数据库密码（一般都为“root”）</p><p>打开浏览器输入localhost/pikachu-master/index.php进行访问</p><img src="/2021/06/10/Pikachu%E5%AE%89%E8%A3%85/2.png" alt="2" style="zoom:75%;"><p>点击红色提示进行初始化</p><img src="/2021/06/10/Pikachu%E5%AE%89%E8%A3%85/3.png" alt="3" style="zoom:67%;"><p>即可开始使用靶场</p>]]></content>
      
      
      <categories>
          
          <category> web安全 </category>
          
          <category> 漏洞靶场练习 </category>
          
          <category> Pikachu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2021/06/08/hello-world/"/>
      <url>/2021/06/08/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. </p><span id="more"></span><p>Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
